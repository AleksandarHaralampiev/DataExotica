{% extends 'profile.html' %}
{% block content %}
<div class="mb-auto d-flex align-items-center justify-content-center w-100 overflow-auto">
    
    <div class="info-card d-flex flex-column align-items-end p-3 w-75">
      <div class="container d-flex flex-row align-items-center justify-content-between">
        <p>Interact with other users. Ask and answer questions</p>  
        
        <a href="{{url_for('blog_add')}}" class="btn btn-dark bg-white text-black rounded-pill shadow">+   Add Blog</a>
      </div>
      
      <div class="row justify-content-center">
        {% for post in posts %}
        <div class="info-card col-card overflow-hidden col-12 col-md-3 m-4 pt-3 pb-4">
          <div class="card-body">
            <h4 class="header">{{post.title}}</h4>
            <p class="card-text">{{post.description[:50]}}</p>
            <p class="mb-0">Posted by <a href="#" class="text-white text-decoration-none"><i>{{post.user}}</i></a></p>
            <hr class="mb-4">
            <a href="{{url_for('blog_view', Post_id=post.id)}}" id="read-more-link" class="border-0 rounded-pill py-2 view-password-btn card-link text-decoration-none"  style="min-width: 50%; background: #0ef; color: white; padding: 10px !important;">Read More</a>
            
          </div>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script>
      const readMoreLink = document.getElementById('read-more-link');
      readMoreLink.addEventListener('click', () => {
        fetch(`/blog_view/${post.id}/view_count`, {
          method: 'POST'
        });
      });
    </script>

</div>


{% endblock %}
